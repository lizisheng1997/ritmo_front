<template>
  <view class="content" :style="{
    paddingTop: state.navAllHeight + 'rpx'
  }">
    <view class="nav flex p0-35">
      <view class="btn">
        <image class="icon mr15" src="http://47.116.190.37:8002/static/community/nav1.png"></image>
        <text class="text">æˆ‘çš„ä¸»é¡µ</text>
      </view>
      <view class="btn">
        <image class="icon mr15" src="http://47.116.190.37:8002/static/community/nav2.png"></image>
        <text class="text">å›å¤æˆ‘çš„</text>
        <view class="count">3</view>
      </view>
    </view>
    <!--  -->
    <view class="p0-35">
      <scroll-view
          class="tabs mt35"
          scroll-x="true"
          scroll-left="0"
          enable-flex="true"
          style="height: 70rpx">
            <view class="text pb25" :class=" index == state.current ? 'textAct' : '' " v-for=" (item, index) in communityIndexTabs " @click="state.current = index">{{ item }}</view>
        </scroll-view>
    </view>
    <!--  -->
    <communityList :list="cList">

    </communityList>
    <!--  -->
    <view class="add" @click="routerTo('/pages/community/addCommunity')">
      <image class="icon" src="/@/static/iconAdd.png"> </image>
    </view>
    <!--  -->
  </view>
</template>

<script setup lang="ts">
import { defineAsyncComponent, reactive, ref } from 'vue'
import communityList from '/@/components/communityList.vue'
import { routerTo, showTips } from '/@/utils/currentFun';
import { communityIndexTabs } from '/@/utils/universalArray';
import { useI18n } from 'vue-i18n'
import { onLoad } from '@dcloudio/uni-app';
const { t } = useI18n()

// å¼•å…¥ç»„ä»¶
onLoad(() => {
  // @ts-ignore
  state.navAllHeight = getApp().globalData.navAllHeight + 90;
})
// å‚æ•°
const cList = ref([
{
						price: 35,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
					{
						price: 75,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23325_s.jpg'
					},
					{
						price: 385,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
					{
						price: 784,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23325_s.jpg'
					},
					{
						price: 7891,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
					{
						price: 2341,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
					{
						price: 661,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
					{
						price: 1654,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
					{
						price: 1678,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
					{
						price: 924,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
					{
						price: 8243,
						title: 'AI Agentå…±å­¦ï¼Œæ•™å¤§å®¶æ€ä¹ˆæ­å»ºå¾®ä¿¡æœºå™¨äººï¼Œå½“å¤§å®¶éƒ½æ­å»ºæˆåŠŸæ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œåï¼Œæ•´ä¸ªæ•ˆæœå¤ªéœ‡æ’¼äº†ğŸš€ æ‰‹éº»äº†äººä¹Ÿéº»äº†',
						name: 'æç™½',
            gongsi: 'æ­å·å¤§é±¼ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸',
						image: 'http://pic.sc.chinaz.com/Files/pic/pic9/202002/zzpic23327_s.jpg',
					},
])
const state = reactive({
  status: 0, // 
  current: 0,
  navAllHeight: 0,
  nickname: '', // åç§°
  avatarUrl: '', // å¤´åƒ
  userId: '',
  level: 0, // 0ï¼šéä¼šå‘˜, 1: åˆçº§ä¼šå‘˜, 2: é«˜çº§ä¼šå‘˜, 3: ä¼ä¸šä¼šå‘˜
  isNewUser: true, // æ˜¯å¦æ˜¯æ–°ç”¨æˆ·
})
</script>

<style lang="scss" scoped>
.content {
  .nav {
    justify-content: space-between;
  }
  .btn {
    width: 320rpx;
    height: 120rpx;
    line-height: 120rpx;
    border-radius: 20rpx;
    background-color: #F5F3EF;
    position: relative;
    text-align: center;
    .icon{
      display: inline-block;
      width: 50rpx;
      height: 50rpx;
      vertical-align: middle;
    }
    .text {
      font-size: 28rpx;
      font-weight: 600;
      color: #232322;
    }
    .count {
      position: absolute;
      right: 45rpx;
      top: 25rpx;
      width: 32rpx;
      line-height: 32rpx;
      text-align: center;
      font-size: 20rpx;
      font-weight: 500;
      color: #ffffff;
      border-radius: 32rpx;
      background-color: #FF3434;
    }
  }
  .tabs {
    width: 100%;
    white-space: nowrap;
    .text {
      display: inline-block;
      // width: 120rpx;
      font-size: 32rpx;
      font-weight: 400;
      line-height: 40rpx;
      color: #898784;
      position: relative;
      margin-right: 60rpx;
    }
    .textAct {
      color: #232322;
      &::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: 0;
        width: 40rpx;
        height: 8rpx;
        background-color: #FFCF00;
      }
    }

  }
}
.add {
  position: fixed;
  right: 35rpx;
  bottom: 140rpx;
  width: 100rpx;
  height: 100rpx;
  background-color: #FFCF00;
  border-radius: 50rpx;
  display: flex;
  justify-content: center;
  align-items: center;
  .icon {
    display: inline-block;
    width: 40rpx;
    height: 40rpx;
  }
}
</style>
